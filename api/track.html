<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Track</title>
    <style>body{margin:0;padding:0;}</style>
</head>
<body>
    <script>
        // Parse tracking parameters
        const params = new URLSearchParams(window.location.search);
        const data = {
            type: params.get('type'),
            name: params.get('name'),
            platform: params.get('platform') || 'unknown',
            cli: params.get('cli') || 'unknown',
            session: params.get('session') || 'anonymous',
            timestamp: new Date().toISOString(),
            url: window.location.href
        };
        
        // Log to console for debugging
        console.log('ðŸ“Š Tracking:', data);
        
        // Send data to parent if opened in iframe/popup
        if (window.parent !== window) {
            window.parent.postMessage({type: 'tracking', data: data}, '*');
        }
        
        // Return 1x1 transparent GIF
        document.body.innerHTML = '<img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="" style="width:1px;height:1px;position:absolute;top:0;left:0;">';
        
        // Set page title to include tracking info for server logs
        document.title = `Track-${data.type}-${data.name}-${data.timestamp}`;
    </script>
</body>
</html>